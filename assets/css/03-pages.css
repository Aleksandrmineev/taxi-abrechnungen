/* 03-pages.css — page-level rules (adaptive pass) */

/* REPORT: inner sub-tabs layout */
#tab-report .subtab .grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(260px, 1fr));
  gap: var(--gap);
}
#tab-report .subtab .col4,
#tab-report .subtab .col6 {
  grid-column: auto;
}
#tab-report .subtab .full {
  grid-column: 1 / -1;
}
@media (max-width: 1024px) {
  #tab-report .subtab .grid {
    grid-template-columns: repeat(2, minmax(240px, 1fr));
  }
}
@media (max-width: 640px) {
  #tab-report .subtab .grid {
    grid-template-columns: 1fr;
  }
}

/* Intro tab only: 4 columns on wide screens */
#sub-intro .grid {
  grid-template-columns: repeat(4, minmax(220px, 1fr));
}
@media (max-width: 1100px) {
  #sub-intro .grid {
    grid-template-columns: repeat(3, minmax(220px, 1fr));
  }
}
@media (max-width: 860px) {
  #sub-intro .grid {
    grid-template-columns: repeat(2, minmax(220px, 1fr));
  }
}
@media (max-width: 600px) {
  #sub-intro .grid {
    grid-template-columns: 1fr;
  }
}

/* Controls */
#tab-report .subtab input,
#tab-report .subtab select,
#tab-report .subtab textarea {
  width: 100%;
  max-width: 100%;
  font-size: var(--fs-input);
  height: var(--ctr-h);
}

/* Clean look for Intro + Money tabs */
#sub-intro .grid > .col4,
#sub-intro .grid > .col6,
#sub-money .grid > .col4,
#sub-money .grid > .col6 {
  background: transparent;
  border: 0;
  padding: 0;
  box-shadow: none;
}

#sub-intro label,
#sub-money label {
  color: var(--text);
  margin-bottom: 6px;
  font-weight: 600;
  font-size: clamp(14px, 1.1vw, 16px);
}

#sub-intro input,
#sub-intro select,
#sub-intro textarea,
#sub-money input,
#sub-money select,
#sub-money textarea {
  background: var(--input);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 0 clamp(10px, 1.2vw, 12px);
  outline: none;
  transition: border-color 0.2s ease, box-shadow 0.2s ease,
    background-color 0.2s ease;
}
#sub-intro textarea,
#sub-money textarea {
  padding-block: clamp(8px, 1vw, 10px);
  min-height: calc(var(--ctr-h) * 2);
}
#sub-intro input:focus,
#sub-intro select:focus,
#sub-intro textarea:focus,
#sub-money input:focus,
#sub-money select:focus,
#sub-money textarea:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px var(--focus);
}

#sub-intro .hint,
#sub-money .hint {
  color: var(--muted);
  font-size: clamp(12px, 1vw, 13px);
}

/* Save creds button */
#saveCreds.btn.ok {
  background: var(--success);
  color: #fff;
}

/* Tables */
#tab-report .subtab table {
  width: 100%;
}

@media (max-width: 640px) {
  #invTable thead,
  #ktTable thead {
    display: none;
  }
  #invTable td,
  #invTable th,
  #ktTable td,
  #ktTable th {
    display: block;
    width: 100%;
  }
  #invTable tr,
  #ktTable tr {
    display: grid;
    grid-template-columns: 1fr;
    gap: 8px;
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 10px;
    margin-bottom: 12px;
    font-size: clamp(14px, 1.5vw, 16px);
  }
  #invTable select,
  #invTable input,
  #ktTable input {
    width: 100%;
  }
  #invTable td:last-child,
  #ktTable td:last-child {
    text-align: right;
  }
}

/* Summary pills & states */
#tab-report .pill.total {
  font-size: var(--fs-total);
  font-weight: 800;
}
#tab-report .ok {
  color: var(--success);
}
#tab-report .bad {
  color: var(--danger);
}

/* все "ok" / "success" кнопки */
.btn.ok,
.btn.success {
  background: var(--gold);
  background-image: var(--gold-grad);
  color: var(--on-accent);
  border: 1px solid color-mix(in oklab, var(--gold) 65%, #fff 35%);
  box-shadow: 0 8px 28px color-mix(in oklab, var(--gold) 24%, transparent);
}
.btn.ok:hover,
.btn.success:hover {
  background: color-mix(in oklab, var(--gold) 85%, #fff 15%);
}

svg [stroke="#22c55e"],
svg[stroke="#16a34a"],
svg [fill="#22c55e"],
svg[fill="#16a34a"] {
  stroke: var(--gold) !important;
  fill: var(--gold) !important;
}

/* ===== Receipt (кассовый чек) ===== */
.receipt {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", monospace;
  background: var(--surface, #fff);
  color: var(--text, #222);
  border: 1px dashed var(--border, #ddd);
  border-radius: 12px;
  padding: 16px 14px;
  max-width: 560px;
  line-height: 1.45;
  box-shadow: 0 2px 18px rgba(0, 0, 0, 0.06);
}

.receipt__title {
  text-align: center;
  font-family: var(--font, "Inter", system-ui, sans-serif);
  font-weight: 600;
  margin: 4px 0 8px;
}

.receipt__meta {
  text-align: center;
  font-size: 12px;
  opacity: 0.7;
  margin-bottom: 12px;
}

.receipt__sep {
  border-top: 1px dashed var(--border, #ddd);
  margin: 10px 0;
}

.receipt__row {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 8px 16px;
  padding: 2px 0;
}

.receipt__label {
  font-family: var(--font, "Inter", system-ui, sans-serif);
  font-weight: 700; /* названия полей — жирные */
}

.receipt__value {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", monospace; /* значения — mono */
  white-space: pre-wrap;
  justify-self: end;
  text-align: right;
}

.receipt__section {
  margin-top: 8px;
}

.receipt__sub {
  font-family: var(--font, "Inter", system-ui, sans-serif);
  font-weight: 600;
  margin: 6px 0 4px;
  opacity: 0.85;
}

/* ====== Step Navigation (Gold Premium style) ====== */
.step-nav {
  display: flex;
  justify-content: space-between;
  margin-top: 32px;
  gap: 16px;
  flex-wrap: wrap;
}

.step-nav button {
  flex: 1;
  height: var(--ctr-h);
  font-family: var(--font);
  font-size: var(--fs-input);
  font-weight: 500;
  border-radius: var(--radius-pill);
  cursor: pointer;
  transition: var(--transition);
  box-shadow: none;
}

/* Кнопка "Назад" — прозрачная с золотым контуром */
.step-nav .prev {
  background: transparent;
  color: var(--btn-ghost-fg);
  border: 1px dashed var(--btn-border);
}
.step-nav .prev:hover,
.step-nav .prev:focus-visible {
  background: color-mix(in oklab, var(--gold) 10%, transparent);
  box-shadow: var(--brand-glow);
}

/* Кнопка "Далее" — золотая, как основная CTA */
.step-nav .next {
  background: var(--btn-primary-bg);
  color: var(--btn-primary-fg);
  border: 1px solid var(--btn-border);
}
.step-nav .next:hover,
.step-nav .next:focus-visible {
  background: color-mix(in oklab, var(--gold) 70%, var(--btn-primary-bg) 30%);
  box-shadow: var(--brand-glow);
}

/* Уменьшаем яркость в тёмной теме для читаемости */
html[data-theme="dark"] .step-nav .prev:hover {
  background: color-mix(in oklab, var(--gold) 18%, transparent);
}
html[data-theme="dark"] .step-nav .next {
  border-color: color-mix(in oklab, var(--gold) 75%, var(--border));
}
